@model DeleteEmployeeVM

@{
    ViewData["Title"] = "Delete Employee";
}

<h2>Are you sure you want to delete this?</h2>
<h3 class="text-danger">This action cannot be undone.</h3>
<hr />

<div class="row">
    @* Image Column *@
    <div class="col-md-4">
        <img src="~/Images/@(Model.ImageUrl ?? "default.png")"
             alt="@Model.Name"
             class="img-fluid rounded-start"
             style="max-width: 100%; height: auto; object-fit: cover;">
    </div>

    @* Details Column *@
    <div class="col-md-8">
        <h4>Employee: @Model.Name</h4>
        <dl class="row">
            <dt class="col-sm-4">
                @Html.DisplayNameFor(model => model.Name)
            </dt>
            <dd class="col-sm-8">
                @Html.DisplayFor(model => model.Name)
            </dd>

            <dt class="col-sm-4">
                @Html.DisplayNameFor(model => model.DepartmentName)
            </dt>
            <dd class="col-sm-8">
                @Html.DisplayFor(model => model.DepartmentName)
            </dd>
        </dl>
    </div>
</div>

<form asp-action="Delete" method="post" class="mt-3">
    @*
      CRITICAL: The hidden Id field is required to know which employee to delete.
      We also pass back the DeletedBy user, though it's often better to 
      set this in the controller based on the logged-in user.
    *@
    <input type="hidden" asp-for="Id" />
    <input type="hidden" asp-for="Name" />
    <input type="hidden" asp-for="DepartmentName" />

    <div class="mb-3">
        <label asp-for="DeletedBy" class="control-label">Deleted By (Confirmation)</label>
        <input asp-for="DeletedBy" class="form-control" />
        <span asp-validation-for="DeletedBy" class="text-danger"></span>
    </div>

    <input type="submit" value="Delete" class="btn btn-danger" />
    <a asp-action="Index" class="btn btn-outline-secondary">Cancel</a>
</form>